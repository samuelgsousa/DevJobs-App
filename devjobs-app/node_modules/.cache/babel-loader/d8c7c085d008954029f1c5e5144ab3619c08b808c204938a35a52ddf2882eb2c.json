{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FilterDataAdvanced = void 0;\n//import moment from 'moment';\nconst moment = require(\"moment\");\nclass FilterDataAdvanced {\n  //This method will take any array of objects data, key name and value to be searched.The search is case insensitive.\n  filterByKeyValue(data, key, value) {\n    return data.filter(item => {\n      if (item.hasOwnProperty(key) && item[key]) {\n        return item[key].toString().toLowerCase().includes(value.toLowerCase());\n      }\n      return false;\n    });\n  }\n  filterByValue(data, value) {\n    return data.filter(item => {\n      for (let key in item) {\n        if (Array.isArray(item[key])) {\n          for (let i = 0; i < item[key].length; i++) {\n            for (let j in item[key][i]) {\n              if (item[key][i][j].toString().toLowerCase().includes(value.toLowerCase())) {\n                return true;\n              }\n            }\n          }\n        } else if (item[key].toString().toLowerCase().includes(value.toLowerCase())) {\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n  filterByKeyAndMultiValues(data, key, values) {\n    return data.filter(item => {\n      if (key in item) {\n        let value = item[key].toString().toLowerCase();\n        return values.some(val => value.includes(val.toLowerCase()));\n      }\n      return false;\n    });\n  }\n  filterByNestedKeyValues(data, mainKey, innerKey, values) {\n    return data.filter(item => {\n      if (mainKey in item && Array.isArray(item[mainKey]) && item[mainKey].every(elem => typeof elem === \"object\")) {\n        for (let i = 0; i < item[mainKey].length; i++) {\n          if (innerKey in item[mainKey][i]) {\n            let value = item[mainKey][i][innerKey].toString().toLowerCase();\n            if (values.some(val => value.includes(val.toLowerCase()))) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    });\n  }\n  filterDataBetweenDates(data, key, startDate, endDate, isEndDateInclusive) {\n    // Convert start and end dates to moment objects for comparison\n    const start = moment(startDate);\n    let end = moment(endDate);\n    if (isEndDateInclusive) end = end.add(1, \"day\").startOf(\"day\");\n    // Filter the data array based on the date range\n    const filteredData = data.filter(item => {\n      // If the item does not have the specified key, skip it\n      if (!item.hasOwnProperty(key)) {\n        return false;\n      }\n      // Parse the date string into a moment object\n      const itemDate = moment(item[key]);\n      // Compare the item date against the start and end dates\n      return itemDate.isBetween(start, end);\n    });\n    return filteredData;\n  }\n  filterDataOnSingleDate(data, key, exactSingleDate) {\n    // Convert start and end dates to moment objects for comparison\n    let start = moment(exactSingleDate).startOf(\"day\");\n    let end = moment(start).add(1, \"day\").startOf(\"day\");\n    // Filter the data array based on the date range\n    const filteredData = data.filter(item => {\n      // If the item does not have the specified key, skip it\n      if (!item.hasOwnProperty(key)) {\n        return false;\n      }\n      // Parse the date string into a moment object\n      const itemDate = moment(item[key]);\n      // Compare the item date against the start and end dates\n      return itemDate.isBetween(start, end);\n    });\n    return filteredData;\n  }\n  filterDataBetweenNumbers(data, key, startNumber, endNumber) {\n    // Filter the data array based on the number range\n    const filteredData = data.filter(item => {\n      // If the item does not have the specified key, skip it\n      if (!item.hasOwnProperty(key)) {\n        return false;\n      }\n      // Get the value of the key for the current item\n      let itemValue = item[key];\n      if (typeof itemValue === \"string\") {\n        itemValue = Number(itemValue);\n        // If the conversion fails, skip the item\n        if (isNaN(itemValue)) {\n          return false;\n        }\n      }\n      // If the item value is not a number, skip it\n      if (typeof itemValue !== \"number\") {\n        return false;\n      }\n      // Compare the item value against the start and end numbers\n      return itemValue >= startNumber && itemValue <= endNumber;\n    });\n    return filteredData;\n  }\n}\nexports.FilterDataAdvanced = FilterDataAdvanced;","map":{"version":3,"names":["moment","require","FilterDataAdvanced","filterByKeyValue","data","key","value","filter","item","hasOwnProperty","toString","toLowerCase","includes","filterByValue","Array","isArray","i","length","j","filterByKeyAndMultiValues","values","some","val","filterByNestedKeyValues","mainKey","innerKey","every","elem","filterDataBetweenDates","startDate","endDate","isEndDateInclusive","start","end","add","startOf","filteredData","itemDate","isBetween","filterDataOnSingleDate","exactSingleDate","filterDataBetweenNumbers","startNumber","endNumber","itemValue","Number","isNaN","exports"],"sources":["../src/FilterDataAdvanced.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA;AACA,MAAAA,MAAA,GAAAC,OAAA;AAGA,MAAaC,kBAAkB;EAE7B;EACEC,gBAAgBA,CAACC,IAAW,EAAEC,GAAW,EAAEC,KAAa;IACpD,OAAOF,IAAI,CAACG,MAAM,CAACC,IAAI,IAAG;MACtB,IAAIA,IAAI,CAACC,cAAc,CAACJ,GAAG,CAAC,IAAIG,IAAI,CAACH,GAAG,CAAC,EAAE;QACvC,OAAOG,IAAI,CAACH,GAAG,CAAC,CAACK,QAAQ,EAAE,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACN,KAAK,CAACK,WAAW,EAAE,CAAC;;MAE3E,OAAO,KAAK;IAChB,CAAC,CAAC;EACN;EAEAE,aAAaA,CAACT,IAAW,EAAEE,KAAa;IACpC,OAAOF,IAAI,CAACG,MAAM,CAACC,IAAI,IAAG;MACtB,KAAK,IAAIH,GAAG,IAAIG,IAAI,EAAE;QAClB,IAAIM,KAAK,CAACC,OAAO,CAACP,IAAI,CAACH,GAAG,CAAC,CAAC,EAAE;UAC1B,KAAK,IAAIW,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,IAAI,CAACH,GAAG,CAAC,CAACY,MAAM,EAAED,CAAC,EAAE,EAAE;YACvC,KAAK,IAAIE,CAAC,IAAIV,IAAI,CAACH,GAAG,CAAC,CAACW,CAAC,CAAC,EAAE;cACxB,IAAIR,IAAI,CAACH,GAAG,CAAC,CAACW,CAAC,CAAC,CAACE,CAAC,CAAC,CAACR,QAAQ,EAAE,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACN,KAAK,CAACK,WAAW,EAAE,CAAC,EAAE;gBACxE,OAAO,IAAI;;;;SAI1B,MAAM,IAAIH,IAAI,CAACH,GAAG,CAAC,CAACK,QAAQ,EAAE,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACN,KAAK,CAACK,WAAW,EAAE,CAAC,EAAE;UACzE,OAAO,IAAI;;;MAGnB,OAAO,KAAK;IAChB,CAAC,CAAC;EACN;EAEAQ,yBAAyBA,CAACf,IAAW,EAAEC,GAAW,EAAEe,MAAgB;IAChE,OAAOhB,IAAI,CAACG,MAAM,CAACC,IAAI,IAAG;MACxB,IAAIH,GAAG,IAAIG,IAAI,EAAE;QACf,IAAIF,KAAK,GAAGE,IAAI,CAACH,GAAG,CAAC,CAACK,QAAQ,EAAE,CAACC,WAAW,EAAE;QAC9C,OAAOS,MAAM,CAACC,IAAI,CAACC,GAAG,IAAIhB,KAAK,CAACM,QAAQ,CAACU,GAAG,CAACX,WAAW,EAAE,CAAC,CAAC;;MAE9D,OAAO,KAAK;IACd,CAAC,CAAC;EACJ;EAEFY,uBAAuBA,CAACnB,IAAW,EAAEoB,OAAe,EAAEC,QAAgB,EAAEL,MAAgB;IACpF,OAAOhB,IAAI,CAACG,MAAM,CAACC,IAAI,IAAG;MACxB,IAAIgB,OAAO,IAAIhB,IAAI,IAAIM,KAAK,CAACC,OAAO,CAACP,IAAI,CAACgB,OAAO,CAAC,CAAC,IAAIhB,IAAI,CAACgB,OAAO,CAAC,CAACE,KAAK,CAAEC,IAAQ,IAAK,OAAOA,IAAI,KAAK,QAAQ,CAAC,EAAE;QAClH,KAAK,IAAIX,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,IAAI,CAACgB,OAAO,CAAC,CAACP,MAAM,EAAED,CAAC,EAAE,EAAE;UAC7C,IAAIS,QAAQ,IAAIjB,IAAI,CAACgB,OAAO,CAAC,CAACR,CAAC,CAAC,EAAE;YAChC,IAAIV,KAAK,GAAGE,IAAI,CAACgB,OAAO,CAAC,CAACR,CAAC,CAAC,CAACS,QAAQ,CAAC,CAACf,QAAQ,EAAE,CAACC,WAAW,EAAE;YAC/D,IAAIS,MAAM,CAACC,IAAI,CAACC,GAAG,IAAIhB,KAAK,CAACM,QAAQ,CAACU,GAAG,CAACX,WAAW,EAAE,CAAC,CAAC,EAAE;cACzD,OAAO,IAAI;;;;;MAKnB,OAAO,KAAK;IACd,CAAC,CAAC;EACN;EAGAiB,sBAAsBA,CAACxB,IAAW,EAAEC,GAAW,EAAEwB,SAAe,EAAEC,OAAa,EAAEC,kBAA0B;IACzG;IAEA,MAAMC,KAAK,GAAGhC,MAAM,CAAC6B,SAAS,CAAC;IAC/B,IAAII,GAAG,GAAGjC,MAAM,CAAC8B,OAAO,CAAC;IACzB,IAAGC,kBAAkB,EAAEE,GAAG,GAAGA,GAAG,CAACC,GAAG,CAAC,CAAC,EAAC,KAAK,CAAC,CAACC,OAAO,CAAC,KAAK,CAAC;IAE5D;IACA,MAAMC,YAAY,GAAGhC,IAAI,CAACG,MAAM,CAAEC,IAAI,IAAI;MACxC;MACA,IAAI,CAACA,IAAI,CAACC,cAAc,CAACJ,GAAG,CAAC,EAAE;QAC7B,OAAO,KAAK;;MAGd;MACA,MAAMgC,QAAQ,GAAGrC,MAAM,CAACQ,IAAI,CAACH,GAAG,CAAC,CAAC;MAElC;MACA,OAAOgC,QAAQ,CAACC,SAAS,CAACN,KAAK,EAAEC,GAAG,CAAC;IACvC,CAAC,CAAC;IAEF,OAAOG,YAAY;EACrB;EAEAG,sBAAsBA,CAACnC,IAAW,EAAEC,GAAW,EAAEmC,eAAqB;IACpE;IAEA,IAAIR,KAAK,GAAGhC,MAAM,CAACwC,eAAe,CAAC,CAACL,OAAO,CAAC,KAAK,CAAC;IAClD,IAAIF,GAAG,GAAGjC,MAAM,CAACgC,KAAK,CAAC,CAACE,GAAG,CAAC,CAAC,EAAC,KAAK,CAAC,CAACC,OAAO,CAAC,KAAK,CAAC;IAEnD;IACA,MAAMC,YAAY,GAAGhC,IAAI,CAACG,MAAM,CAAEC,IAAI,IAAI;MACxC;MACA,IAAI,CAACA,IAAI,CAACC,cAAc,CAACJ,GAAG,CAAC,EAAE;QAC7B,OAAO,KAAK;;MAGd;MACA,MAAMgC,QAAQ,GAAGrC,MAAM,CAACQ,IAAI,CAACH,GAAG,CAAC,CAAC;MAElC;MACA,OAAOgC,QAAQ,CAACC,SAAS,CAACN,KAAK,EAAEC,GAAG,CAAC;IACvC,CAAC,CAAC;IAEF,OAAOG,YAAY;EACrB;EAEAK,wBAAwBA,CAACrC,IAAW,EAAEC,GAAW,EAAEqC,WAAmB,EAAEC,SAAiB;IACvF;IACA,MAAMP,YAAY,GAAGhC,IAAI,CAACG,MAAM,CAAEC,IAAI,IAAI;MACxC;MACA,IAAI,CAACA,IAAI,CAACC,cAAc,CAACJ,GAAG,CAAC,EAAE;QAC7B,OAAO,KAAK;;MAGd;MACA,IAAIuC,SAAS,GAAGpC,IAAI,CAACH,GAAG,CAAC;MAEzB,IAAI,OAAOuC,SAAS,KAAK,QAAQ,EAAE;QACjCA,SAAS,GAAGC,MAAM,CAACD,SAAS,CAAC;QAE7B;QACA,IAAIE,KAAK,CAACF,SAAS,CAAC,EAAE;UACpB,OAAO,KAAK;;;MAIhB;MACA,IAAI,OAAOA,SAAS,KAAK,QAAQ,EAAE;QACjC,OAAO,KAAK;;MAGd;MACA,OAAOA,SAAS,IAAIF,WAAW,IAAIE,SAAS,IAAID,SAAS;IAC3D,CAAC,CAAC;IAEF,OAAOP,YAAY;EACrB;;AAvIJW,OAAA,CAAA7C,kBAAA,GAAAA,kBAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}