{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{format,setWeek}from'date-fns';import Card from'react-bootstrap/Card';import ListaRequisitos from'./ListaRequisitos';import Button from'react-bootstrap/Button';import Collapse from'react-bootstrap/Collapse';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Jobs=_ref=>{let{searchQuery}=_ref;const[vagas,setVagas]=useState([]);const[open,setOpen]=useState([false]);const fetchVagas=async()=>{try{const response=await axios.get('http://localhost:3000/');setVagas(response.data);}catch(error){console.error('Erro ao buscar vagas:',error);}};useEffect(()=>{fetchVagas();},[]);const toggleText=index=>{const newOpen=[...open];// Cria uma cópia do array de estados\nnewOpen[index]=!newOpen[index];// Altera o estado do texto no índice especificado\nsetOpen(newOpen);// Atualiza o estado com o novo array\n};return/*#__PURE__*/_jsx(_Fragment,{children:/* filtro. por enquanto está só filtrando por nome da empresa. Alterar para filtrar por outros dados*/vagas.filter(vaga=>{return searchQuery.toLowerCase()===''?vaga:vaga.nome_empresa.toLowerCase().includes(searchQuery.toLowerCase())||vaga.cargo.toLowerCase().includes(searchQuery.toLowerCase());}).map((vaga,index)=>/*#__PURE__*/_jsx(Card,{style:{width:'22rem',minheight:'18rem'},children:/*#__PURE__*/_jsxs(Card.Body,{class:\"indv_vag\",children:[/*#__PURE__*/_jsxs(Card.Title,{children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:\"https://via.placeholder.com/50\",alt:\"\"}),\" \",vaga.nome_empresa]}),/*#__PURE__*/_jsxs(Card.Title,{children:[\" \",vaga.cargo]}),/*#__PURE__*/_jsxs(Card.Subtitle,{className:\"mb-2 text-muted\",children:[format(new Date(vaga.data_pub),'dd-MM-yyyy'),\" - \",vaga.localidade]}),/*#__PURE__*/_jsx(Card.Text,{children:vaga.tipo}),/*#__PURE__*/_jsx(Collapse,{in:open[index],id:\"vagaNum\".concat(index),children:/*#__PURE__*/_jsxs(Card.Text,{children:[vaga.descricao,/*#__PURE__*/_jsx(ListaRequisitos,{id:index+1},index)]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"botoes\",children:[/*#__PURE__*/_jsx(Button,{onClick:()=>toggleText(index),\"aria-controls\":\"ver-mais\",\"aria-expanded\":open,children:\"V\"}),/*#__PURE__*/_jsx(Button,{children:/*#__PURE__*/_jsx(Link,{to:\"/apply/\".concat(vaga.id),children:\"Aplicar para vaga\"})})]})]})},index))});};export default Jobs;","map":{"version":3,"names":["React","useEffect","useState","axios","format","setWeek","Card","ListaRequisitos","Button","Collapse","Link","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Jobs","_ref","searchQuery","vagas","setVagas","open","setOpen","fetchVagas","response","get","data","error","console","toggleText","index","newOpen","children","filter","vaga","toLowerCase","nome_empresa","includes","cargo","map","style","width","minheight","Body","class","Title","src","alt","Subtitle","className","Date","data_pub","localidade","Text","tipo","in","id","concat","descricao","onClick","to"],"sources":["C:/Users/madru/OneDrive/Documentos/DevJobs App/devjobs-app/src/containers/Home/Jobs.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { format, setWeek } from 'date-fns'\r\nimport Card from 'react-bootstrap/Card'\r\nimport ListaRequisitos from './ListaRequisitos'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Collapse from 'react-bootstrap/Collapse'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Jobs = ({ searchQuery }) => {\r\n\r\n\r\nconst [vagas, setVagas] = useState([])\r\nconst [open, setOpen] = useState([false])\r\n\r\n\r\n    const fetchVagas = async () =>{\r\n        try{\r\n            const response = await axios.get('http://localhost:3000/')\r\n            setVagas(response.data)\r\n        }\r\n        catch(error){\r\n            console.error('Erro ao buscar vagas:', error)\r\n        }\r\n    }\r\n\r\nuseEffect(() => {\r\n\r\n\r\n    fetchVagas() \r\n}, [])\r\n\r\n\r\nconst toggleText = (index) => {\r\n    const newOpen = [...open]; // Cria uma cópia do array de estados\r\n    newOpen[index] = !newOpen[index]; // Altera o estado do texto no índice especificado\r\n    setOpen(newOpen); // Atualiza o estado com o novo array\r\n}\r\n\r\n\r\n\r\n    return(\r\n        <>\r\n        \r\n       \r\n             {\r\n                /* filtro. por enquanto está só filtrando por nome da empresa. Alterar para filtrar por outros dados*/\r\n             vagas.filter((vaga) => {\r\n                return searchQuery.toLowerCase() === '' ? vaga : vaga.nome_empresa.toLowerCase().includes(searchQuery.toLowerCase()) || vaga.cargo.toLowerCase().includes(searchQuery.toLowerCase())\r\n             }).map((vaga, index) => (\r\n\r\n               \r\n\r\n    <Card style={{ width: '22rem', minheight: '18rem'}} key={index}>\r\n        <Card.Body class=\"indv_vag\">\r\n                <Card.Title> <img src=\"https://via.placeholder.com/50\" alt=\"\" /> {vaga.nome_empresa}</Card.Title>\r\n                <Card.Title> {vaga.cargo}</Card.Title>\r\n                <Card.Subtitle className=\"mb-2 text-muted\">{format(new Date(vaga.data_pub), 'dd-MM-yyyy')} - {vaga.localidade}</Card.Subtitle>\r\n            <Card.Text>\r\n                {vaga.tipo} \r\n            </Card.Text> \r\n            \r\n            <Collapse in={open[index]} id={`vagaNum${index}`}>\r\n                <Card.Text> \r\n                    {vaga.descricao}\r\n                    <ListaRequisitos key={index} id={index + 1}/>\r\n                </Card.Text> \r\n            </Collapse>\r\n\r\n            <div className=\"botoes\">\r\n                \r\n                <Button onClick={() => toggleText(index)} aria-controls=\"ver-mais\" aria-expanded={open}>V</Button>\r\n                \r\n               <Button><Link to={`/apply/${vaga.id}`}>Aplicar para vaga</Link></Button>\r\n                                   \r\n            </div>\r\n\r\n            \r\n        </Card.Body>\r\n    </Card>\r\n                \r\n                \r\n             ))}\r\n                \r\n                \r\n             \r\n\r\n                \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Jobs"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}